!function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=0)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(r.push(o.value),!e||r.length!==e);n=!0);}catch(t){i=!0,a=t}finally{try{!n&&s.return&&s.return()}finally{if(i)throw a}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();var a=function(){function t(e){var r=e.api_key,n=e.element,i=e.playlist_id,a=e.max_results,o=void 0===a?"5":a,s=e.iframe_options,u=void 0===s?{}:s;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.api_key=r,this.element=n,this.playlist_id=i,this.max_results=o,this.iframe_options=u,this.request_domain="https://www.googleapis.com/youtube/v3/playlistItems"}return i(t,[{key:"init",value:function(){var t=this;this.element.length&&Array.from(this.element).map(function(e){t._get_data(e.getAttribute("data-playlist"),e)}),this.playlist_id&&this._get_data(this.playlist_id,this.element)}},{key:"_get_data",value:function(t,e){var r=this,n={part:"snippet",playlistId:t,maxResults:this.max_results,key:this.api_key};fetch(this.request_domain+"?"+this._object_to_query_string(n)).then(function(t){return t.json()}).then(function(t){r._parse_data(t,e)}).catch(function(t){return console.error(t)})}},{key:"_object_to_query_string",value:function(t){return Object.entries(t).map(function(t){var e=n(t,2);return e[0]+"="+e[1]}).join("&")}},{key:"playlist_items_template",value:function(t){return'<li>\n\t\t\t<a class="ypm_video_items" href="#" data-id="'+t.snippet.resourceId.videoId+'">\n\t\t\t\t<img src="'+t.snippet.thumbnails.medium.url+'" />\n\t\t\t\t<p>'+t.snippet.title+"</p>\n\t\t\t</a>\n\t\t</li>"}},{key:"playlist_template",value:function(t){var e=this;return'<div class="ypm_youtube-video-playlist">\n\t\t\t<div class="ypm_video-player">\n\t\t\t\t<iframe class="ypm_iframe" src="" width="560" height="315" frameborder="0" allowfullscreen></iframe>\n\t\t\t</div>\n\n\t\t\t<div class="ypm_video-list-wrapper">\n\t\t\t\t<ul class="ypm_video-list">\n\t\t\t\t\t'+t.items.map(function(t){return e.playlist_items_template(t)}).join("")+"\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t</div>"}},{key:"_parse_data",value:function(t,e){var r=this,n=this.playlist_template(t),i=(new DOMParser).parseFromString(n,"text/html").body.childNodes[0],a=i.getElementsByClassName("ypm_video_items"),o=i.getElementsByClassName("ypm_iframe")[0],s=this.iframe_options.autoplay;e.appendChild(i);var u=function(t){return"http://www.youtube.com/embed/"+t+"?"+r._object_to_query_string(r.iframe_options)};Array.from(a).map(function(t,e){r.iframe_options.autoplay=0===e?0:s,0===e&&o.setAttribute("src",u(t.getAttribute("data-id"))),0===e&&t.classList.add("ypm_active"),t.addEventListener("click",function(t){t.preventDefault(),Array.from(a).map(function(t){return t.classList.remove("ypm_active")}),this.classList.add("ypm_active"),o.setAttribute("src",u(this.getAttribute("data-id")))})})}}]),t}();e.default=a}]);
//# sourceMappingURL=bundle.main.js.map